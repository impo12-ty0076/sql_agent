# SQL DB LLM Agent 문제 해결 가이드

이 가이드는 SQL DB LLM Agent 사용 중 발생할 수 있는 일반적인 문제와 그 해결 방법을 제공합니다.

## 목차

1. [로그인 및 계정 문제](#1-로그인-및-계정-문제)
2. [데이터베이스 연결 문제](#2-데이터베이스-연결-문제)
3. [자연어 질의 문제](#3-자연어-질의-문제)
4. [쿼리 실행 문제](#4-쿼리-실행-문제)
5. [결과 및 리포트 문제](#5-결과-및-리포트-문제)
6. [성능 문제](#6-성능-문제)
7. [이력 및 공유 문제](#7-이력-및-공유-문제)
8. [오류 코드 참조](#8-오류-코드-참조)

## 1. 로그인 및 계정 문제

### 로그인이 되지 않음

**증상**: 사용자 이름과 비밀번호를 입력해도 로그인이 되지 않습니다.

**해결 방법**:

1. 사용자 이름과 비밀번호를 정확히 입력했는지 확인하세요.
2. Caps Lock이 켜져 있는지 확인하세요.
3. 비밀번호를 잊은 경우 "비밀번호 찾기" 기능을 사용하세요.
4. 계정이 잠겨 있을 수 있습니다. 관리자에게 문의하세요.

**오류 코드**: `AUTH_INVALID_CREDENTIALS`, `AUTH_ACCOUNT_LOCKED`

### 세션 만료

**증상**: 작업 중에 갑자기 로그인 페이지로 리디렉션됩니다.

**해결 방법**:

1. 다시 로그인하세요.
2. 장시간 활동이 없으면 세션이 자동으로 만료됩니다(기본 60분).
3. 중요한 작업을 하기 전에 주기적으로 페이지를 새로고침하거나 상호작용하세요.

**오류 코드**: `AUTH_EXPIRED_TOKEN`

### 비밀번호 재설정 이메일이 오지 않음

**증상**: "비밀번호 찾기" 기능을 사용했지만 이메일이 수신되지 않습니다.

**해결 방법**:

1. 스팸 폴더를 확인하세요.
2. 등록된 이메일 주소를 올바르게 입력했는지 확인하세요.
3. 10분 정도 기다린 후 다시 시도하세요.
4. 계속 문제가 발생하면 관리자에게 문의하세요.

## 2. 데이터베이스 연결 문제

### 데이터베이스 연결 실패

**증상**: 데이터베이스를 선택했지만 연결에 실패합니다.

**해결 방법**:

1. 네트워크 연결 상태를 확인하세요.
2. 데이터베이스 서버가 실행 중인지 확인하세요.
3. 데이터베이스 접근 권한이 있는지 확인하세요.
4. 방화벽 설정을 확인하세요.
5. 오류 메시지를 확인하고 관리자에게 문의하세요.

**오류 코드**: `DB_CONNECTION_ERROR`, `DB_AUTH_ERROR`, `DB_TIMEOUT`

### 데이터베이스 목록이 비어 있음

**증상**: 데이터베이스 목록에 아무것도 표시되지 않습니다.

**해결 방법**:

1. 데이터베이스 접근 권한이 있는지 확인하세요.
2. 관리자에게 데이터베이스 접근 권한을 요청하세요.
3. 페이지를 새로고침하거나 다시 로그인해 보세요.

**오류 코드**: `DB_ACCESS_DENIED`

### 스키마 정보를 불러올 수 없음

**증상**: 데이터베이스에 연결되었지만 스키마 정보(테이블, 컬럼 등)를 불러올 수 없습니다.

**해결 방법**:

1. 데이터베이스 스키마 조회 권한이 있는지 확인하세요.
2. 데이터베이스 연결을 끊고 다시 연결해 보세요.
3. 브라우저 캐시를 지우고 다시 시도하세요.

**오류 코드**: `DB_SCHEMA_ERROR`

## 3. 자연어 질의 문제

### 자연어 질의가 처리되지 않음

**증상**: 자연어 질의를 입력했지만 응답이 없거나 오류가 발생합니다.

**해결 방법**:

1. 인터넷 연결 상태를 확인하세요.
2. 질의가 너무 길거나 복잡한 경우, 더 간단하게 작성해 보세요.
3. 페이지를 새로고침하고 다시 시도하세요.
4. LLM 서비스에 일시적인 문제가 있을 수 있습니다. 잠시 후 다시 시도하세요.

**오류 코드**: `NL_QUERY_ERROR`, `LLM_SERVICE_ERROR`

### 생성된 SQL이 정확하지 않음

**증상**: 자연어 질의에 대해 생성된 SQL이 예상과 다르거나 오류가 있습니다.

**해결 방법**:

1. SQL 미리보기 화면에서 직접 SQL을 수정하세요.
2. 질의를 더 명확하고 구체적으로 작성해 보세요.
3. 테이블이나 필드 이름을 명시적으로 포함해 보세요.
4. 피드백을 제출하여 시스템 개선에 도움을 주세요.

**오류 코드**: `NL_AMBIGUOUS_QUERY`, `NL_SCHEMA_MISMATCH`

### RAG 시스템이 관련 없는 정보를 반환함

**증상**: RAG 시스템을 사용했지만 질문과 관련 없는 정보가 반환됩니다.

**해결 방법**:

1. 질문을 더 구체적으로 작성해 보세요.
2. 키워드를 명확하게 포함해 보세요.
3. RAG 시스템 대신 일반 자연어 질의를 사용해 보세요.

## 4. 쿼리 실행 문제

### SQL 구문 오류

**증상**: SQL 실행 시 구문 오류가 발생합니다.

**해결 방법**:

1. 오류 메시지를 확인하고 SQL 구문을 수정하세요.
2. 테이블 및 필드 이름이 올바른지 확인하세요.
3. 괄호, 따옴표 등의 짝이 맞는지 확인하세요.
4. 복잡한 쿼리의 경우, 단계별로 나누어 테스트해 보세요.

**오류 코드**: `QUERY_SYNTAX_ERROR`

### 쿼리 실행 시간 초과

**증상**: 쿼리 실행이 시간 초과로 실패합니다.

**해결 방법**:

1. 쿼리를 최적화하세요 (불필요한 조인 제거, 인덱스 활용 등).
2. WHERE 절을 추가하여 처리할 데이터 양을 줄이세요.
3. LIMIT/TOP 절을 사용하여 결과 크기를 제한하세요.
4. 관리자에게 쿼리 실행 시간 제한 증가를 요청하세요.

**오류 코드**: `QUERY_TIMEOUT`

### 대용량 결과 처리 문제

**증상**: 대용량 결과를 반환하는 쿼리가 느리게 실행되거나 브라우저가 응답하지 않습니다.

**해결 방법**:

1. LIMIT/TOP 절을 사용하여 결과 크기를 제한하세요.
2. 집계 함수(COUNT, SUM, AVG 등)를 사용하여 요약 정보만 조회하세요.
3. 필요한 컬럼만 선택하여 데이터 크기를 줄이세요.
4. 페이지네이션을 활용하세요.

**오류 코드**: `QUERY_LIMIT_EXCEEDED`

## 5. 결과 및 리포트 문제

### 리포트 생성 실패

**증상**: 리포트 생성 요청 후 오류가 발생하거나 리포트가 생성되지 않습니다.

**해결 방법**:

1. 결과 데이터 크기가 너무 큰 경우, 쿼리를 수정하여 결과 크기를 줄이세요.
2. 리포트 유형을 "기본" 또는 "표준"으로 변경해 보세요.
3. 시각화 유형을 줄이거나 변경해 보세요.
4. 브라우저를 새로고침한 후 다시 시도하세요.

**오류 코드**: `REPORT_GENERATION_ERROR`, `VISUALIZATION_ERROR`

### 시각화가 예상과 다름

**증상**: 생성된 시각화가 데이터를 적절하게 표현하지 않거나 예상과 다릅니다.

**해결 방법**:

1. 다른 시각화 유형을 선택해 보세요.
2. 데이터 형식이 시각화에 적합한지 확인하세요.
3. 쿼리를 수정하여 더 명확한 데이터 구조를 얻으세요.
4. 피드백을 제출하여 시스템 개선에 도움을 주세요.

### 리포트 다운로드 문제

**증상**: 리포트를 다운로드할 수 없거나 다운로드된 파일이 손상되었습니다.

**해결 방법**:

1. 다른 형식(PDF, HTML, JSON)으로 다운로드해 보세요.
2. 브라우저 설정에서 다운로드 권한을 확인하세요.
3. 다른 브라우저를 사용해 보세요.
4. 리포트 크기가 너무 큰 경우, 쿼리를 수정하여 결과 크기를 줄이세요.

## 6. 성능 문제

### 시스템 응답 속도가 느림

**증상**: 전반적인 시스템 응답 속도가 느립니다.

**해결 방법**:

1. 브라우저 캐시를 지우고 다시 시도하세요.
2. 다른 브라우저를 사용해 보세요.
3. 인터넷 연결 상태를 확인하세요.
4. 동시에 여러 복잡한 쿼리를 실행하는 경우, 하나씩 실행해 보세요.
5. 시스템 부하가 높은 시간대를 피해 사용해 보세요.

**오류 코드**: `SYSTEM_OVERLOADED`

### 페이지 로딩 지연

**증상**: 페이지 로딩이 지연되거나 일부 요소가 표시되지 않습니다.

**해결 방법**:

1. 브라우저를 새로고침하세요.
2. 브라우저 캐시와 쿠키를 지우세요.
3. 브라우저 확장 프로그램을 비활성화해 보세요.
4. 다른 브라우저를 사용해 보세요.

### 메모리 사용량 과다

**증상**: 브라우저 메모리 사용량이 높고 시스템이 느리게 응답합니다.

**해결 방법**:

1. 사용하지 않는 탭을 닫으세요.
2. 브라우저를 재시작하세요.
3. 대용량 결과를 표시하는 경우, 페이지네이션을 활용하거나 결과 크기를 제한하세요.
4. 시스템 메모리를 확인하고 필요한 경우 업그레이드를 고려하세요.

## 7. 이력 및 공유 문제

### 쿼리 이력이 표시되지 않음

**증상**: 쿼리 이력 페이지에 이전 쿼리가 표시되지 않습니다.

**해결 방법**:

1. 페이지를 새로고침하세요.
2. 필터 설정을 확인하고 초기화하세요.
3. 다른 브라우저나 기기에서 로그인한 경우, 현재 세션에서 실행한 쿼리만 표시될 수 있습니다.
4. 관리자가 이력 보존 정책을 변경했을 수 있습니다. 관리자에게 문의하세요.

### 공유 링크 접근 문제

**증상**: 공유 링크에 접근할 수 없거나 "접근 거부" 오류가 발생합니다.

**해결 방법**:

1. 링크가 만료되었는지 확인하세요.
2. 특정 사용자만 접근 가능하도록 설정된 경우, 로그인했는지 확인하세요.
3. 링크 생성자에게 공유 설정을 확인해 달라고 요청하세요.
4. 링크가 정확히 복사되었는지 확인하세요.

**오류 코드**: `SHARE_EXPIRED`, `SHARE_ACCESS_DENIED`, `SHARE_NOT_FOUND`

### 즐겨찾기 또는 태그 업데이트 실패

**증상**: 쿼리를 즐겨찾기로 설정하거나 태그를 업데이트할 수 없습니다.

**해결 방법**:

1. 페이지를 새로고침하고 다시 시도하세요.
2. 다시 로그인해 보세요.
3. 브라우저 캐시를 지우고 다시 시도하세요.
4. 지속적인 문제가 발생하면 관리자에게 문의하세요.

## 8. 오류 코드 참조

아래는 자주 발생하는 오류 코드와 그 의미입니다:

### 인증 및 권한 오류

| 코드                       | 설명                             | 해결 방법                                                   |
| -------------------------- | -------------------------------- | ----------------------------------------------------------- |
| `AUTH_INVALID_CREDENTIALS` | 잘못된 사용자 이름 또는 비밀번호 | 사용자 인증 정보를 확인하고 다시 시도하세요.                |
| `AUTH_EXPIRED_TOKEN`       | 만료된 액세스 토큰               | 토큰을 갱신하거나 다시 로그인하세요.                        |
| `AUTH_INVALID_TOKEN`       | 유효하지 않은 액세스 토큰        | 다시 로그인하여 새 토큰을 발급받으세요.                     |
| `AUTH_MISSING_TOKEN`       | 액세스 토큰이 제공되지 않음      | Authorization 헤더에 Bearer 토큰을 포함하세요.              |
| `AUTH_ACCOUNT_LOCKED`      | 계정이 잠겨 있음                 | 관리자에게 문의하여 계정 잠금을 해제하세요.                 |
| `AUTH_PERMISSION_DENIED`   | 요청된 작업에 대한 권한 없음     | 필요한 권한을 요청하거나 권한이 있는 계정으로 로그인하세요. |

### 데이터베이스 연결 오류

| 코드                  | 설명                               | 해결 방법                                         |
| --------------------- | ---------------------------------- | ------------------------------------------------- |
| `DB_CONNECTION_ERROR` | 데이터베이스 연결 실패             | 데이터베이스 서버 상태와 연결 정보를 확인하세요.  |
| `DB_AUTH_ERROR`       | 데이터베이스 인증 실패             | 데이터베이스 사용자 이름과 비밀번호를 확인하세요. |
| `DB_TIMEOUT`          | 데이터베이스 연결 시간 초과        | 네트워크 상태를 확인하고 다시 시도하세요.         |
| `DB_NOT_FOUND`        | 지정된 데이터베이스를 찾을 수 없음 | 데이터베이스 ID를 확인하고 다시 시도하세요.       |
| `DB_ACCESS_DENIED`    | 데이터베이스 접근 권한 없음        | 데이터베이스 접근 권한을 요청하세요.              |
| `DB_SCHEMA_ERROR`     | 데이터베이스 스키마 조회 실패      | 데이터베이스 구조와 권한을 확인하세요.            |

### 쿼리 오류

| 코드                    | 설명                      | 해결 방법                                                     |
| ----------------------- | ------------------------- | ------------------------------------------------------------- |
| `QUERY_SYNTAX_ERROR`    | SQL 구문 오류             | SQL 쿼리의 구문을 확인하고 수정하세요.                        |
| `QUERY_EXECUTION_ERROR` | SQL 쿼리 실행 실패        | 오류 세부 정보를 확인하고 쿼리를 수정하세요.                  |
| `QUERY_TIMEOUT`         | 쿼리 실행 시간 초과       | 쿼리를 최적화하거나 타임아웃 값을 늘리세요.                   |
| `QUERY_CANCELLED`       | 사용자에 의해 쿼리 취소됨 | 정보용 메시지로, 추가 조치가 필요하지 않습니다.               |
| `QUERY_LIMIT_EXCEEDED`  | 쿼리 결과 크기 제한 초과  | 쿼리를 더 구체적으로 작성하거나 LIMIT/TOP 절을 사용하세요.    |
| `QUERY_FORBIDDEN`       | 금지된 SQL 명령어 사용    | 읽기 전용 쿼리만 허용됩니다. DDL/DML 문은 사용할 수 없습니다. |

### 자연어 처리 오류

| 코드                 | 설명                    | 해결 방법                                              |
| -------------------- | ----------------------- | ------------------------------------------------------ |
| `NL_QUERY_ERROR`     | 자연어 질의 처리 실패   | 질의를 더 명확하게 작성하고 다시 시도하세요.           |
| `NL_AMBIGUOUS_QUERY` | 모호한 자연어 질의      | 질의를 더 구체적으로 작성하고 다시 시도하세요.         |
| `NL_SCHEMA_MISMATCH` | 질의와 DB 스키마 불일치 | 데이터베이스 스키마에 맞게 질의를 수정하세요.          |
| `NL_CONTEXT_ERROR`   | 대화 컨텍스트 처리 오류 | 새로운 대화를 시작하거나 질의를 독립적으로 작성하세요. |

### LLM 서비스 오류

| 코드                   | 설명                       | 해결 방법                                      |
| ---------------------- | -------------------------- | ---------------------------------------------- |
| `LLM_SERVICE_ERROR`    | LLM 서비스 호출 실패       | 잠시 후 다시 시도하세요.                       |
| `LLM_QUOTA_EXCEEDED`   | LLM API 할당량 초과        | 잠시 후 다시 시도하거나 관리자에게 문의하세요. |
| `LLM_TIMEOUT`          | LLM 서비스 응답 시간 초과  | 잠시 후 다시 시도하세요.                       |
| `LLM_INVALID_RESPONSE` | LLM에서 유효하지 않은 응답 | 질의를 단순화하고 다시 시도하세요.             |

### 결과 및 리포트 오류

| 코드                      | 설명                            | 해결 방법                                  |
| ------------------------- | ------------------------------- | ------------------------------------------ |
| `RESULT_NOT_FOUND`        | 지정된 결과 ID를 찾을 수 없음   | 결과 ID를 확인하고 다시 시도하세요.        |
| `RESULT_EXPIRED`          | 결과가 만료됨                   | 쿼리를 다시 실행하세요.                    |
| `REPORT_GENERATION_ERROR` | 리포트 생성 실패                | 오류 세부 정보를 확인하고 다시 시도하세요. |
| `REPORT_NOT_FOUND`        | 지정된 리포트 ID를 찾을 수 없음 | 리포트 ID를 확인하고 다시 시도하세요.      |
| `VISUALIZATION_ERROR`     | 시각화 생성 실패                | 데이터 형식을 확인하고 다시 시도하세요.    |

### 이력 및 공유 오류

| 코드                  | 설명                          | 해결 방법                               |
| --------------------- | ----------------------------- | --------------------------------------- |
| `HISTORY_NOT_FOUND`   | 지정된 이력 ID를 찾을 수 없음 | 이력 ID를 확인하고 다시 시도하세요.     |
| `SHARE_NOT_FOUND`     | 지정된 공유 ID를 찾을 수 없음 | 공유 ID를 확인하고 다시 시도하세요.     |
| `SHARE_EXPIRED`       | 공유 링크가 만료됨            | 새로운 공유 링크를 생성하세요.          |
| `SHARE_ACCESS_DENIED` | 공유 항목에 접근할 권한 없음  | 공유 소유자에게 접근 권한을 요청하세요. |

### 시스템 오류

| 코드                  | 설명                         | 해결 방법                                   |
| --------------------- | ---------------------------- | ------------------------------------------- |
| `SYSTEM_MAINTENANCE`  | 시스템 유지보수 중           | 유지보수가 완료된 후 다시 시도하세요.       |
| `SYSTEM_OVERLOADED`   | 시스템 과부하                | 잠시 후 다시 시도하세요.                    |
| `SYSTEM_ERROR`        | 내부 서버 오류               | 관리자에게 문의하세요.                      |
| `RATE_LIMIT_EXCEEDED` | 요청 횟수 제한 초과          | 요청 빈도를 줄이고 잠시 후 다시 시도하세요. |
| `VALIDATION_ERROR`    | 요청 데이터 유효성 검사 실패 | 요청 데이터를 확인하고 수정하세요.          |

## 지원 및 문의

이 가이드에서 해결책을 찾을 수 없는 문제가 발생하거나 추가 지원이 필요한 경우, 다음 방법으로 연락하세요:

- 이메일: support@example.com
- 전화: 02-123-4567
- 내부 지원 티켓 시스템: 애플리케이션 내 "지원" 메뉴 사용

문의 시 다음 정보를 포함하면 더 빠른 지원을 받을 수 있습니다:

- 오류 코드 및 메시지
- 문제 발생 시간
- 수행 중이던 작업
- 브라우저 및 운영 체제 정보
- 스크린샷(가능한 경우)
